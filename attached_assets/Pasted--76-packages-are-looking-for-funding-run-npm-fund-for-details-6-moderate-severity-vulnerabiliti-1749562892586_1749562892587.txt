
76 packages are looking for funding
  run `npm fund` for details

6 moderate severity vulnerabilities

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
âœ… Dependencies installed
ðŸ“‹ Setting up database schema and data...
No config path provided, using default 'drizzle.config.ts'
Reading config file '/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/drizzle.config.ts'
Using 'pg' driver for database querying
[âœ“] Pulling schema from database...
[âœ“] Changes applied
Starting role seeding...
Error processing role Super Admin: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Organization Admin: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Client Admin: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Standard User: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Read Only: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Developer: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Role seeding completed successfully
Seeding completed
/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/db.ts:7
  throw new Error(
        ^


Error: DATABASE_URL must be set. Did you forget to provision a database?
    at <anonymous> (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/db.ts:7:9)
    at ModuleJob.run (node:internal/modules/esm/module_job:222:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:316:24)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:123:5)

Node.js v20.15.1
(base) anands-MacBook-Pro:AttachmentAnalyzer anandkumar$ npx tsx server/seed-roles.ts
Starting role seeding...
Error processing role Super Admin: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Organization Admin: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Client Admin: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Standard User: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Read Only: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Error processing role Developer: Error: All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: fetch failed
    at file:///Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at NeonPreparedQuery.execute (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/node_modules/src/neon-serverless/session.ts:102:18)
    at seedRoles (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/seed-roles.ts:216:30)
Role seeding completed successfully
Seeding completed
(base) anands-MacBook-Pro:AttachmentAnalyzer anandkumar$ npx tsx server/setup-demo-users.ts
/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/db.ts:7
  throw new Error(
        ^


Error: DATABASE_URL must be set. Did you forget to provision a database?
    at <anonymous> (/Users/anandkumar/Downloads/analyser/AttachmentAnalyzer/server/db.ts:7:9)
    at ModuleJob.run (node:internal/modules/esm/module_job:222:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:316:24)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:123:5)

Node.js v20.15.1